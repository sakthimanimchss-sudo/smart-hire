<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>SmartHire | AI Hiring Platform</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- ICONS -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
/* =====================================================
   SMART HIRE â€” FINAL CSS (CLEAN & STABLE)
===================================================== */

/* ================= ROOT ================= */
:root{
  --primary:#2b3990;
  --accent:#ff9900;
  --success:#36e0a1;
  --dark:#0f1c24;
  --dark2:#1b2a3a;
  --light:#f5f7fb;
  --white:#fff;
  --muted:#6b7280;

  --radius:16px;
  --shadow:0 25px 50px rgba(0,0,0,.12);
  --shadow-lg:0 40px 80px rgba(0,0,0,.2);
}

/* ================= RESET ================= */
*,
*::before,
*::after{
  margin:0;
  padding:0;
  box-sizing:border-box;
}

html{scroll-behavior:smooth}

body{
  font-family:Inter,Segoe UI,Arial,sans-serif;
  background:var(--light);
  color:#111;
  line-height:1.6;
  overflow-x:hidden;
}

img,video{max-width:100%;display:block}
a{text-decoration:none;color:inherit}

/* ================= HEADER ================= */
header{
  position:sticky;
  top:0;
  z-index:999;
  background:#fff;
  box-shadow:0 2px 15px rgba(0,0,0,.05);
}

.nav{
  max-width:1400px;
  margin:auto;
  padding:14px 22px;
  display:flex;
  align-items:center;
  justify-content:space-between;
}

.logo{
  display:flex;
  align-items:center;
  gap:12px;
  font-weight:800;
}

.logo span{
  width:42px;
  height:42px;
  background:var(--primary);
  color:#fff;
  border-radius:10px;
  display:flex;
  align-items:center;
  justify-content:center;
}

.menu{
  display:flex;
  gap:22px;
  font-weight:600;
}

.menu a:hover{color:var(--accent)}

.register{
  background:var(--primary);
  color:#fff;
  padding:10px 22px;
  border-radius:12px;
  font-weight:700;
}

/* ================= HERO ================= */
.hero{
  position:relative;
  min-height:90vh;
  display:flex;
  align-items:center;
  justify-content:center;
  text-align:center;
  color:#fff;
  overflow:hidden;
}

.hero video{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  object-fit:cover;
  filter:brightness(.55);
}

.hero::after{
  content:"";
  position:absolute;
  inset:0;
  background:linear-gradient(
    135deg,
    rgba(15,28,36,.85),
    rgba(32,58,67,.85)
  );
}

.hero-content{
  position:relative;
  max-width:900px;
  padding:0 20px;
  z-index:2;
  animation:fadeUp 1.2s ease both;
}

.hero h1{
  font-size:56px;
  line-height:1.15;
}

.hero h1 span{color:var(--success)}

.hero p{
  margin:20px auto 0;
  font-size:18px;
  opacity:.9;
  max-width:760px;
}

.hero-actions{
  margin-top:34px;
  display:flex;
  gap:18px;
  justify-content:center;
  flex-wrap:wrap;
}

.btn-primary{
  background:var(--accent);
  color:#fff;
  padding:15px 36px;
  border-radius:14px;
  font-weight:800;
  box-shadow:0 12px 30px rgba(255,153,0,.45);
}

.btn-secondary{
  border:1px solid rgba(255,255,255,.45);
  padding:15px 36px;
  border-radius:14px;
}

/* ================= AI VOICE BAR ================= */
.ai-voice-bar{
  background:#fff;
  padding:50px 20px;
  border-top:1px solid #eee;
  border-bottom:1px solid #eee;
}

.voice-wrap{
  max-width:900px;
  margin:auto;
  text-align:center;
}

.voice-btn{
  background:var(--primary);
  color:#fff;
  padding:14px 30px;
  border-radius:40px;
  border:none;
  font-weight:700;
  cursor:pointer;
  display:inline-flex;
  align-items:center;
  gap:12px;
  box-shadow:0 12px 30px rgba(43,57,144,.4);
}

.voice-text{
  margin-top:18px;
  min-height:32px;
  font-size:16px;
  color:#333;
}

/* ================= SECTION BASE ================= */
section{padding:90px 20px}
.container{max-width:1300px;margin:auto}

.title{
  border-left:6px solid var(--accent);
  padding-left:16px;
  margin-bottom:50px;
}

.title h2{
  font-size:36px;
  color:var(--primary);
}

.title p{color:var(--muted)}

/* ================= WORKFLOW ================= */
.workflow{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
  gap:28px;
}

.step{
  background:#fff;
  padding:30px;
  border-radius:18px;
  box-shadow:var(--shadow);
  transition:.45s;
}

.step:hover{
  transform:translateY(-10px);
  box-shadow:var(--shadow-lg);
}

.step span{
  font-size:56px;
  font-weight:900;
  color:rgba(43,57,144,.15);
}

/* ================= CAREER ================= */
.career-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
  gap:26px;
}

.career-block{
  background:#fff;
  border-radius:18px;
  overflow:hidden;
  box-shadow:var(--shadow);
  transition:opacity .6s ease, transform .6s ease;
}

.career-block img{
  width:100%;
  height:180px;
  object-fit:cover;
}

.career-desc{
  padding:18px;
  font-size:14px;
  color:#444;
}

.fade-out{
  opacity:0;
  transform:translateY(12px);
}

.fade-in{
  opacity:1;
  transform:none;
}

/* ================= STATS ================= */
.stats{
  background:linear-gradient(135deg,var(--dark),var(--dark2));
  color:#fff;
}

.stats-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:30px;
  text-align:center;
}

.stat h3{
  font-size:46px;
  color:var(--accent);
}

/* ================= CHAT ================= */
.chat-btn{
  position:fixed;
  bottom:24px;
  right:24px;
  width:60px;
  height:60px;
  border-radius:50%;
  background:var(--primary);
  color:#fff;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:24px;
  cursor:pointer;
  box-shadow:0 15px 40px rgba(0,0,0,.35);
  z-index:999;
}

.chat-panel{
  position:fixed;
  bottom:100px;
  right:24px;
  width:320px;
  background:#fff;
  border-radius:18px;
  box-shadow:var(--shadow);
  display:none;
  flex-direction:column;
}

/* ================= ANIMATION ================= */
@keyframes fadeUp{
  from{opacity:0;transform:translateY(40px)}
  to{opacity:1;transform:none}
}

/* ================= MOBILE ================= */
@media(max-width:900px){
  .menu{display:none}
  .hero h1{font-size:38px}
  section{padding:70px 20px}
}

@media(max-width:480px){
  .hero h1{font-size:30px}
  .btn-primary,.btn-secondary{
    width:100%;
    text-align:center;
  }
}
.cursor{
  display:inline-block;
  margin-left:2px;
  animation:blink 1s infinite;
  font-weight:700;
}

@keyframes blink{
  0%,50%{opacity:1}
  51%,100%{opacity:0}
}
/* ================= WAVEFORM (NO SHAKE FIX) ================= */

.waveform{
  margin-top:14px;
  display:flex;
  justify-content:center;
  gap:6px;
  opacity:0;
  transition:opacity .3s ease;
  height:28px;              /* FIXED HEIGHT */
  align-items:flex-end;     /* LOCK LAYOUT */
}

.waveform span{
  width:4px;
  height:18px;              /* FIXED HEIGHT */
  background:var(--primary);
  border-radius:4px;
  transform-origin:bottom;
  animation:wave 1s infinite ease-in-out;
}

.waveform span:nth-child(2){animation-delay:.1s}
.waveform span:nth-child(3){animation-delay:.2s}
.waveform span:nth-child(4){animation-delay:.3s}
.waveform span:nth-child(5){animation-delay:.4s}

/* GPU SAFE ANIMATION */
@keyframes wave{
  0%,100%{
    transform:scaleY(.4);
    opacity:.5;
  }
  50%{
    transform:scaleY(1.2);
    opacity:1;
  }
}

.waveform.active{
  opacity:1;
}


.bubble{
  max-width:75%;
  padding:10px 14px;
  border-radius:16px;
  font-size:14px;
}

.bubble.ai{
  background:#f1f3ff;
  align-self:flex-start;
}

.bubble.user{
  background:var(--primary);
  color:#fff;
  align-self:flex-end;
}

.chat-panel input{
  border:none;
  border-top:1px solid #eee;
  padding:14px;
  outline:none;
}
/* ================= AI INTERVIEW ================= */
.ai-interview{
  background:#fff;
  padding:90px 20px;
}

.ai-interview h2{
  color:var(--primary);
  margin-bottom:10px;
}

.interview-note{
  color:#666;
  margin-bottom:30px;
}

.question-box{
  background:#f5f7fb;
  border-left:6px solid var(--accent);
  padding:18px;
  border-radius:12px;
  margin-bottom:20px;
  font-size:18px;
}

#userAnswer{
  width:100%;
  padding:14px;
  border-radius:12px;
  border:1px solid #ddd;
  font-size:15px;
  resize:none;
}

.interview-actions{
  margin-top:20px;
  display:flex;
  gap:14px;
}

.score-box{
  margin-top:30px;
  padding:20px;
  border-radius:14px;
  background:#f0fdf4;
  display:none;
}
/* ================= HEADER FIX ================= */

header{
  position:sticky;
  top:0;
  z-index:9999;
  background:#fff;
  box-shadow:0 2px 15px rgba(0,0,0,.05);
}

/* NAV */
.nav{
  max-width:1400px;
  margin:auto;
  padding:14px 24px;
  display:flex;
  align-items:center;
  justify-content:space-between;
}

/* LOGO */
.logo{
  display:flex;
  align-items:center;
  gap:12px;
}
.logo span{
  width:42px;
  height:42px;
  background:#2b3990;
  color:#fff;
  border-radius:10px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:800;
}
.logo h1{
  font-size:20px;
  font-weight:800;
}

/* DESKTOP MENU */
.menu-desktop{
  display:flex;
  align-items:center;
  gap:22px;
  white-space:nowrap;
}

.menu-desktop > a,
.menu-desktop .nav-item > a{
  font-size:14px;
  font-weight:600;
  position:relative;
}

/* DROPDOWN */
.nav-item{
  position:relative;
}

.dropdown-menu{
  position:absolute;
  top:120%;
  left:0;
  background:#fff;
  border-radius:10px;
  min-width:180px;
  box-shadow:0 15px 40px rgba(0,0,0,.15);
  opacity:0;
  visibility:hidden;
  transform:translateY(10px);
  transition:.3s ease;
  display:flex;
  flex-direction:column;
}

.dropdown-menu a{
  padding:10px 16px;
  font-size:14px;
  color:#111;
}

.dropdown-menu a:hover{
  background:#f5f7fb;
}

/* SHOW DROPDOWN */
.nav-item:hover .dropdown-menu{
  opacity:1;
  visibility:visible;
  transform:translateY(0);
}

/* AUTH */
.auth{
  display:flex;
  align-items:center;
  gap:14px;
}

.login{
  font-size:14px;
}

.register{
  background:#2b3990;
  color:#fff;
  padding:8px 18px;
  border-radius:10px;
  font-weight:700;
}

/* HAMBURGER */
.hamburger{
  display:none;
  font-size:26px;
  cursor:pointer;
}
@media(max-width:992px){
  .menu-desktop{
    position:fixed;
    top:70px;
    left:0;
    width:100%;
    background:#fff;
    flex-direction:column;
    padding:20px;
    display:none;
    gap:16px;
    box-shadow:0 20px 50px rgba(0,0,0,.2);
  }

  .menu-desktop.show{
    display:flex;
  }

  .nav-item:hover .dropdown-menu{
    position:static;
    opacity:1;
    visibility:visible;
    transform:none;
    box-shadow:none;
  }

  .hamburger{
    display:block;
  }
}

/* =====================================================
   ADVANCED FOOTER
===================================================== */
.footer{
  position:relative;
  background:linear-gradient(135deg,#0f1c24,#1b2a3a);
  color:#fff;
  padding:90px 20px 40px;
  overflow:hidden;
}

/* glass overlay */
.footer-glass{
  position:absolute;
  inset:0;
  background:rgba(255,255,255,.04);
  backdrop-filter:blur(14px);
  pointer-events:none;
}

/* grid */
.footer-grid{
  position:relative;
  display:grid;
  grid-template-columns:2fr 1fr 1fr 1.4fr;
  gap:50px;
  z-index:2;
}

/* brand */
.footer-logo{
  display:flex;
  align-items:center;
  gap:12px;
  margin-bottom:18px;
}
.footer-logo span{
  width:46px;
  height:46px;
  background:var(--primary);
  border-radius:12px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:800;
  font-size:22px;
}
.footer-logo h2{
  font-size:24px;
}
.footer-brand p{
  font-size:14px;
  line-height:1.7;
  opacity:.75;
}

/* columns */
.footer-col h4{
  font-size:16px;
  margin-bottom:18px;
  position:relative;
}
.footer-col h4::after{
  content:"";
  width:32px;
  height:3px;
  background:var(--accent);
  position:absolute;
  bottom:-8px;
  left:0;
  border-radius:2px;
}
.footer-col a{
  display:block;
  font-size:14px;
  margin-bottom:12px;
  opacity:.7;
  transition:.3s;
}
.footer-col a:hover{
  opacity:1;
  color:var(--accent);
  transform:translateX(4px);
}

/* newsletter */
.footer-note{
  font-size:14px;
  opacity:.7;
  margin-bottom:14px;
}
.footer-newsletter{
  display:flex;
  gap:10px;
}
.footer-newsletter input{
  flex:1;
  padding:12px;
  border-radius:8px;
  border:none;
  outline:none;
}
.footer-newsletter button{
  background:var(--accent);
  color:#fff;
  border:none;
  border-radius:8px;
  padding:12px 18px;
  font-weight:700;
  cursor:pointer;
  transition:.3s;
}
.footer-newsletter button:hover{
  background:#e68a00;
}

/* bottom */
.footer-bottom{
  position:relative;
  z-index:2;
  border-top:1px solid rgba(255,255,255,.1);
  margin-top:60px;
  padding-top:25px;
  display:flex;
  flex-wrap:wrap;
  gap:20px;
  align-items:center;
  justify-content:space-between;
  font-size:13px;
  opacity:.7;
}

/* socials */
.socials{
  display:flex;
  gap:14px;
}
.socials a{
  width:38px;
  height:38px;
  border-radius:50%;
  background:rgba(255,255,255,.1);
  display:flex;
  align-items:center;
  justify-content:center;
  color:#fff;
  font-size:16px;
  transition:.3s;
}
.socials a:hover{
  background:var(--accent);
  transform:translateY(-4px);
}

/* responsive */
@media(max-width:900px){
  .footer-grid{
    grid-template-columns:1fr;
    gap:40px;
  }
  .footer-bottom{
    text-align:center;
    justify-content:center;
  }
}

</style>
</head>

<body>

<header>
  <div class="nav">
    <div class="logo">
      <span>S</span>
      <h1>SmartHire</h1>
    </div>

    <div class="menu-desktop">

      <div class="nav-item">
        <a href="#">Home â–¾</a>
        <div class="dropdown-menu">
          <a href="index.html">Home 1</a>
          <a href="home2.html">Home 2</a>
        </div>
      </div>

      <a href="jobs.html">Jobs</a>
      <a href="recruiters.html">Recruiters</a>
      <a href="career.html">Career Services</a>
      <a href="courses.html">Courses</a>
      <a href="companies.html">Companies</a>
      <a href="contact.html">Contact</a>

      <div class="nav-item">
        <a href="#">Dashboard â–¾</a>
        <div class="dropdown-menu">
          <a href="dashboard/user.html">User Dashboard</a>
          <a href="dashboard/admin.html">Admin Dashboard</a>
        </div>
      </div>

    </div>

    <div class="auth">
      <a href="login.html" class="login">Login</a>
      <a href="register.html" class="register">Register</a>
      <div class="hamburger" onclick="toggleMenu()">â˜°</div>
    </div>
  </div>
</header>

<!-- HERO -->
<section class="hero">
  <video autoplay muted loop playsinline>
    <source src="https://cdn.coverr.co/videos/coverr-ai-robot-thinking-8298/1080p.mp4">
  </video>
  <div class="hero-content">
    <h1>AI That <span>Talks, Thinks</span><br>& Hires for You</h1>
    <p>SmartHire uses conversational AI and predictive analytics to transform hiring.</p>
    <div class="hero-actions">
      <a class="btn-primary">Post a Job</a>
      <a class="btn-secondary">Explore Platform</a>
    </div>
  </div>
</section>



<!-- AI VOICE -->
<section class="ai-voice-bar">
  <div class="voice-wrap">
    <button id="voiceBtn" class="voice-btn">
      <i class="fa-solid fa-microphone-lines"></i> Start SmartHire AI
    </button>
<p id="voiceText" class="voice-text">
  <span id="typedText"></span><span class="cursor">|</span>
</p>
<div class="waveform" id="waveform">
  <span></span><span></span><span></span><span></span><span></span>
</div>
  </div>
  <div class="chat-btn"><i class="fa-solid fa-comments"></i></div>

<div class="chat-panel">
  <div class="chat-header">SmartHire AI</div>
  <div class="chat-body" id="chatBody"></div>
  <input id="chatInput" placeholder="Ask SmartHire AI..." />
</div>
</section>

<!-- ================= AI INTERVIEW PANEL ================= -->
<section class="ai-interview">
  <div class="container">

    <h2>ðŸ¤– SmartHire AI Interview</h2>
    <p class="interview-note">
      Answer honestly. Our AI evaluates communication, clarity, and confidence.
    </p>

    <!-- Progress -->
    <div class="interview-progress">
      <span id="questionCount">Question 0 / 5</span>
      <span id="aiStatus" class="ai-status">AI Ready</span>
    </div>

    <!-- Question -->
    <div class="question-box" aria-live="polite">
      <strong id="aiQuestion">Click Start Interview</strong>
    </div>

    <!-- Answer -->
    <textarea
      id="userAnswer"
      placeholder="Type your answer here..."
      rows="5"
      disabled
      aria-label="Interview answer input">
    </textarea>

    <div class="answer-meta">
      <span id="charCount">0 characters</span>
    </div>

    <!-- Actions -->
    <div class="interview-actions">
      <button
        id="startInterview"
        class="btn-primary"
        aria-label="Start AI Interview">
        â–¶ Start Interview
      </button>

      <button
        id="submitAnswer"
        class="btn-secondary"
        disabled
        aria-label="Submit Interview Answer">
        âž¤ Submit Answer
      </button>
      <button id="speakAnswer" class="btn-secondary">
  ðŸŽ¤ Speak Answer
</button>

    </div>

    <!-- Score -->
    <div id="scoreBox" class="score-box" aria-live="polite"></div>

  </div>
</section>


<!-- WORKFLOW -->
<section>
  <div class="container">
    <div class="title">
      <h2>How SmartHire Works</h2>
      <p>End-to-end AI hiring flow</p>
    </div>
    <div class="workflow">
      <div class="step"><span>01</span><h4>Job Understanding</h4></div>
      <div class="step"><span>02</span><h4>Talent Scan</h4></div>
      <div class="step"><span>03</span><h4>Predict Match</h4></div>
      <div class="step"><span>04</span><h4>Interview Assist</h4></div>
    </div>
  </div>
</section>

<!-- CAREER -->
<section>
  <div class="container">
    <div class="title"><h2>Career Growth with AI</h2></div>
    <div class="career-grid">
      <div class="career-block"><img><div class="career-desc"></div></div>
      <div class="career-block"><img><div class="career-desc"></div></div>
      <div class="career-block"><img><div class="career-desc"></div></div>
    </div>
  </div>
</section>

<!-- STATS -->
<section class="stats">
  <div class="container">
    <div class="stats-grid">
      <div class="stat"><h3 data-target="72">0</h3><p>% Faster Hiring</p></div>
      <div class="stat"><h3 data-target="98">0</h3><p>% Satisfaction</p></div>
      <div class="stat"><h3 data-target="150">0</h3><p>Countries</p></div>
    </div>
  </div>
</section>

<!-- CHAT -->
<div class="chat-btn" id="chatToggle"><i class="fa-solid fa-comments"></i></div>
<div class="chat-panel" id="chatPanel">
  <div class="chat-header">SmartHire AI</div>
  <div class="chat-body">Hello! Ask me about jobs or hiring.</div>
</div>

<!-- ================= FOOTER ================= -->
<footer class="footer">
  <div class="footer-glass"></div>

  <div class="container footer-grid">

    <!-- BRAND -->
    <div class="footer-brand">
      <div class="footer-logo">
        <span>S</span>
        <h2>SmartHire</h2>
      </div>
      <p>
        SmartHire is an AI-powered recruitment and career platform connecting
        verified recruiters with skilled professionals. Using intelligent
        job matching, real-time hiring insights, and career tools, we help
        candidates discover meaningful opportunities faster and smarter.
      </p>
    </div>

    <!-- QUICK LINKS -->
    <div class="footer-col">
      <h4>Explore</h4>
      <a href="jobs.html">Find Jobs</a>
      <a href="companies.html">Companies</a>
      <a href="recruiters.html">Recruiters</a>
      <a href="career.html">Career Services</a>
      <a href="courses.html">Courses</a>
    </div>

    <!-- RESOURCES -->
    <div class="footer-col">
      <h4>Resources</h4>
      <a href="#">Blog</a>
      <a href="#">Resume Tips</a>
      <a href="#">Interview Prep</a>
      <a href="#">Skill Trends</a>
      <a href="#">Success Stories</a>
    </div>

    <!-- NEWSLETTER -->
    <div class="footer-col">
      <h4>Stay Updated</h4>
      <p class="footer-note">
        Subscribe to receive the latest job alerts, hiring trends,
        and career insights directly in your inbox.
      </p>
      <div class="footer-newsletter">
        <input type="email" placeholder="Enter your email">
        <button>Subscribe</button>
      </div>
    </div>

  </div>

  <!-- SOCIAL + COPYRIGHT -->
  <div class="footer-bottom">
    <div class="socials">
      <a href="#" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
      <a href="#" aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
      <a href="#" aria-label="Twitter"><i class="fab fa-x-twitter"></i></a>
      <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
    </div>

    <p>Â© 2026 SmartHire Recruitment Solutions Pvt Ltd. All rights reserved.</p>
  </div>
</footer>

<script>
/* =====================================================
   SMART HIRE â€” FINAL JS (FIXED & STABLE)
===================================================== */

document.addEventListener("DOMContentLoaded", () => {

  /* ================= HELPERS ================= */
  const qs  = s => document.querySelector(s);
  const qsa = s => document.querySelectorAll(s);

  /* ================= ELEMENTS ================= */
  const voiceBtn   = qs("#voiceBtn");
  const voiceText  = qs("#voiceText");
  const waveform   = qs(".waveform");

  const chatBtn    = qs(".chat-btn");
  const chatPanel  = qs(".chat-panel");
  const chatBody   = qs("#chatBody");
  const chatInput  = qs("#chatInput");

  const careerBlocks = qsa(".career-block");
  const statsEls = qsa(".stat h3");

  const startBtn   = qs("#startInterview");
  const submitBtn  = qs("#submitAnswer");
  const userAnswer = qs("#userAnswer");
  const aiQuestion = qs("#aiQuestion");
  const scoreBox   = qs("#scoreBox");

  /* ================= SPEAK ================= */
  function speak(text){
    if(!("speechSynthesis" in window)) return;

    speechSynthesis.cancel();
    waveform?.classList.add("active");

    const msg = new SpeechSynthesisUtterance(text);
    msg.lang = "en-US";

    msg.onend = ()=> waveform?.classList.remove("active");
    speechSynthesis.speak(msg);
  }

  /* ================= TYPE EFFECT ================= */
  function typeText(el, text, cb){
    if(!el) return;
    el.textContent = "";
    let i = 0;

    (function t(){
      if(i < text.length){
        el.textContent += text.charAt(i++);
        setTimeout(t, 30);
      } else cb && cb();
    })();
  }

  /* ================= GREETING ================= */
  if(voiceBtn){
    voiceBtn.onclick = ()=>{
      const greet =
        "Welcome to SmartHire. I am your AI hiring assistant.";
      typeText(voiceText, greet, ()=> speak(greet));
    };
  }

  /* ================= CAREER AUTO ================= */
  const careerData = [
    {img:"https://images.unsplash.com/photo-1521737604893-d14cc237f11d?auto=format&fit=crop&w=900",text:"AI resume optimization boosts interviews."},
    {img:"https://images.unsplash.com/photo-1531482615713-2afd69097998?auto=format&fit=crop&w=900",text:"Mock interviews improve confidence."},
    {img:"https://images.unsplash.com/photo-1522071820081-009f0129c71c?auto=format&fit=crop&w=900",text:"Career analytics guide growth."}
  ];

  let cIndex = 0;

  function updateCareer(){
    careerBlocks.forEach((block,i)=>{
      let img  = block.querySelector("img");
      let desc = block.querySelector(".career-desc");

      if(!img){
        img = document.createElement("img");
        block.appendChild(img);
      }
      if(!desc){
        desc = document.createElement("div");
        desc.className = "career-desc";
        block.appendChild(desc);
      }

      const d = careerData[(cIndex+i)%careerData.length];
      img.src = d.img;
      desc.textContent = d.text;
    });
    cIndex++;
  }

  if(careerBlocks.length){
    updateCareer();
    setInterval(updateCareer, 5000);
  }

  /* ================= STATS ================= */
  function animateStats(){
    statsEls.forEach(el=>{
      const target = +el.dataset.target;
      let val = 0;
      const step = target / 60;

      (function run(){
        val += step;
        if(val < target){
          el.textContent = Math.floor(val);
          requestAnimationFrame(run);
        } else {
          el.textContent = target;
        }
      })();
    });
  }

  let statsDone = false;
  window.addEventListener("scroll", ()=>{
    if(statsDone) return;
    const statsSection = qs(".stats");
    if(!statsSection) return;

    if(statsSection.getBoundingClientRect().top < window.innerHeight - 120){
      statsDone = true;
      animateStats();
    }
  });

  /* ================= INTERVIEW ================= */
  const questions = [
    "Tell me about yourself.",
    "What technical skills do you have?",
    "Describe a project you worked on.",
    "How do you solve problems?",
    "Why should we hire you?"
  ];

  let qIndex = 0;
  let answers = [];

  if(startBtn){
    startBtn.onclick = ()=>{
      qIndex = 0;
      answers = [];
      scoreBox.style.display = "none";
      submitBtn.disabled = false;
      userAnswer.value = "";

      typeText(aiQuestion, questions[0], ()=> speak(questions[0]));
    };
  }

  if(submitBtn){
    submitBtn.onclick = ()=>{
      const ans = userAnswer.value.trim();
      if(!ans) return;

      answers.push(ans);
      userAnswer.value = "";
      qIndex++;

      if(qIndex < questions.length){
        typeText(aiQuestion, questions[qIndex], ()=> speak(questions[qIndex]));
      } else {
        submitBtn.disabled = true;
        const score = answers.length * 20;
        scoreBox.style.display = "block";
        scoreBox.innerHTML = `<strong>Score:</strong> ${score}/100`;
        speak("Interview completed. Your score is " + score);
      }
    };
  }

});

window.addEventListener("load", ()=>{
  const ta = document.getElementById("userAnswer");
  if(ta){
    ta.disabled = false;
    ta.readOnly = false;
    ta.style.pointerEvents = "auto";
  }
});
/* ================= INTERVIEW VOICE INPUT ================= */
const speakBtn   = document.getElementById("speakAnswer");
const answerBox  = document.getElementById("userAnswer");

const SpeechRecognition =
  window.SpeechRecognition || window.webkitSpeechRecognition;

let interviewRecognizer = null;

if(SpeechRecognition){
  interviewRecognizer = new SpeechRecognition();
  interviewRecognizer.lang = "en-US";
  interviewRecognizer.interimResults = false;
  interviewRecognizer.maxAlternatives = 1;

  interviewRecognizer.onstart = () => {
    console.log("ðŸŽ¤ Interview mic started");
  };

  interviewRecognizer.onresult = (event) => {
    const transcript = event.results[0][0].transcript;
    answerBox.value = transcript;        // âœ… TEXT APPEARS
    answerBox.focus();

    speak(
      "Answer recorded. You can edit it or submit."
    );
  };

  interviewRecognizer.onerror = (event) => {
    console.error("Mic error:", event.error);
    speak("Microphone error. Please allow mic access.");
  };

  interviewRecognizer.onend = () => {
    console.log("ðŸŽ¤ Mic stopped");
  };
}

/* BUTTON CLICK â€” REQUIRED USER ACTION */
if(speakBtn && interviewRecognizer){
  speakBtn.addEventListener("click", () => {
    interviewRecognizer.start();
    speak("Please speak your answer now.");
  });
}

function toggleMenu(){
  document.querySelector(".menu-desktop")
    .classList.toggle("show");
}

</script>

</body>
</html>
